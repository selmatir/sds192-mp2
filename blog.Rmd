---
title: "Mini-Project 2"
author: "Your Name Here"
date: "March 24, 2017"
output: html_document
---


## Loading the data


```{r, include=FALSE}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")

library(dplyr)
```

```{r}
candH <- candidates %>%
        filter(cand_office == "H") %>%
        select(cand_id, cand_name, cand_party_affiliation, cand_election_yr)

names(house_elections)[names(house_elections) == "fec_id"] <- "cand_id"

elections <- house_elections %>%
            select(cand_id, primary_votes:ge_winner)
           
contrib <- contributions %>%
          select(transaction_amt, cand_id)

table1 <- candH %>%
          full_join(elections, by = "cand_id") %>%
          filter(!is.na(ge_winner)) 

table2 <- table1 %>%
          full_join(contrib, by = "cand_id") %>%
          arrange(cand_name)

summary <- table2 %>%
          group_by(cand_name) %>%
          summarise(total_money = sum(transaction_amt),
                    total_votes = sum(primary_votes + runoff_votes + general_votes)) %>%
          filter(!is.na(total_money))

plot1 <- ggplot(data=summary, aes(x=total_votes, y=total_money)) +
        geom_point() +
        ggtitle("Correlation between the number of votes and contributions \n a candidate to the House elections received") +
        xlab("Number of Votes") +
        ylab("Amount of Contribution")

plot1

```

